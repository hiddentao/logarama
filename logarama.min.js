"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();!function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():!function(){var n=t.Logger,r=e();r.noConflict=function(){return t[key]=n,r},t.Logger=r}()}(void 0,function(){var t=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,t),this._children=[],1===arguments.length&&"string"!=typeof e&&(n=e||{},e=null),this._tag=e||"",this._minLevel=n.minLevel||"debug",this._format=n.format||this._defaultFormat,this._output=n.output||this._defaultOutput,this._initMethods()}return _createClass(t,[{key:"create",value:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];1===arguments.length&&"string"!=typeof e&&(n=e||{},e=null),e=(this._tag.length?this._tag+"/":"")+(e||""),n.minLevel=n.minLevel||this._minLevel,n.format=n.format||this._format,n.output=n.output||this._output;var r=new t(e,n);return this._children.push(r),r}},{key:"minLevel",value:function(){return this._minLevel}},{key:"setMinLevel",value:function(t){this._minLevel=t,this._initMethods(),this._children.forEach(function(e){e.setMinLevel(t)})}},{key:"throw",value:function(t){var e=this._tag?"("+this._tag+") ":"";throw new Error(""+e+t)}},{key:"__defaultFormatHelper",value:function(t){var e=this,n="";if(t instanceof Error)n=t.stack?this.__defaultFormatHelper(t.stack):""+t;else if(t instanceof Array)n=t.length?"[ "+t.map(function(t){var n=e.__defaultFormatHelper(t);return"string"==typeof t?'"'+n+'"':n}).join(", ")+" ]":"[]";else if(t&&"object"==typeof t)if(Object.keys(t).length){var r=[];for(var o in t)if("function"!=typeof t[o]){var i=this.__defaultFormatHelper(t[o]);r.push(o+": "+("string"==typeof t[o]?'"'+i+'"':i))}n="{ "+r.join(", ")+" }"}else n="{}";else n="function"==typeof t?"<fn>":""+t;return n}},{key:"_defaultFormat",value:function(t){try{return this.__defaultFormatHelper(t)}catch(e){if("RangeError"===e.name)return"[Object with circular references]";throw e}}},{key:"_defaultOutput",value:function(t,e,n){n.forEach(function(n){console[t](e+"["+t.toUpperCase()+"]: "+n)})}},{key:"_constructLogMethod",value:function(t){var n=this;e[t]>=e[n._minLevel]?this[t]=function(){n._output(t,n._tag,Array.prototype.slice.call(arguments).map(n._format.bind(n)))}:n[t]=n._noop}},{key:"_initMethods",value:function(){var t=this;Object.keys(e).forEach(function(e){t._constructLogMethod(e)})}},{key:"_noop",value:function(){}}]),t}(),e=t.LEVELS={trace:1,debug:2,info:3,warn:4,error:5};return t});